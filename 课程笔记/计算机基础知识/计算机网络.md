# Socket 面试题
1. Socket 是什么
Socket 是应用层与传输层的一个抽象，将复杂的 TCP/IP 协议隐藏在 socket 接口后，只对应用层暴露简单的接口。

Socket 是一种特殊的文件，它也有文件描述符，进程可以打开一个 socket，并且像处理文件一样对它进行 read ()和 write ()操作，而不关心数据是怎么在网络上传输的。
Socket 是一个 tcp 连接的两端。

2. Socket 如何唯一标识一个进程

Socket 基于 tcp 协议实现，网络层的 ip 地址唯一标识一台主机，而传输层的协议+端口号可以唯一标识绑定到这个端口的进程。Bind ()方法绑定到端口号

3. 通信双方如何进行端口绑定

通常服务端启动时会绑定一个端口提供服务，而客户端在发起连接请求时会随机分配一个端口号

4. Socket 和 WebSocket 的区别

Socket 是应用层与传输层的一个抽象
WebSocket 是应用层协议，它是基于 TCP 实现的，同时接住了 HTTP 协议建立连接

5. 为什么项目中使用 WebSocket 技术

当处理页面数据自动更新时，在使用的 js 不断的请求服务器，查看是否有数据更新，如果有就获取到新数据，进行对页面信息的更新，但是当页面长时间没有数据更新时，这样就会存在资源浪费的情况，所以才会使用 WebSocket 来解决

6. **UDP 和 TCP 协议概念**

1）TCP 提供面向连接的传输，通信前需要先建立连接，是在连接好的通道上进行数据传输；UDP 提供无连接的传输，通信前不需要建立连接
2）TCP 提供可靠的传输（有序，无差错，不丢失，不重复）；UDP 提供不可靠的传输
3）TCP 面向字节流传输，因此它能将信息分割成组，并在接收端将其重组；UDP 是面向数据报的传输，没有分销开组
4）TCP 提供拥塞控制和流量控制机制；UDP 不提供拥塞控制和流量控制机制

7. 全双工、半双工、单工通信协议概念
全双工是通信传输的一个术语。通信允许数据在两个方向上同时传输，它在能力上相当于两个单工通信方式的结合。全双工指可以同时进行信号的双向传输。
1）全双工：在同一时刻两个用户可以同时给对方传送数据，例如手机就是全双工
2）半双工：例如对讲机，当 A 按住通话按钮才可以向 B 传送数据，B 也是一样，在同一时刻只有一个用户能够传送数据
3）单工：我们看电视时，只能接收对方发送的信息，不能给对方传递信息

8. HTTP 和 WebSocket 的区别
Http 协议是短链接，因为请求之后，都会关闭连接，下次重新请求数据，需要再次打开连接。WeSocket 是一种长连接，只需要通过一次请求来初始化连接，然后所有的请求和响应都是通过这个 TCP 连接进行通信的

# 3、socket 的基本操作

既然socket是“open—write/read—close”模式的一种实现，那么socket就提供了这些操作对应的函数接口。下面以TCP为例，介绍几个基本的socket接口函数。


# PythonUDP

在 UDP 协议中，服务端并不能像 TCP 一样通过三次握手来确定是否有客户端想要连接。在 UDP 中，作为服务端，往往需要客户端主动连接后才能，服务端才能知道客户端的存在。

因此，在 UDP 中，服务端通常会不断地监听网络，等待客户端发送数据。在上面的示例中，我们使用了一个无限循环来让服务端持续等待客户端的连接。

```python
try:
    while True:
        # 等待接收数据
        data, addr = sock.recvfrom(1024)
        print(f"收到来自{addr}的数据: {data.decode()}")

        # 发送响应给客户端
        response = f"你好，我是服务端。我收到了你的数据: {data.decode()}"
        sock.sendto(response.encode(), addr)

finally:
    # 关闭套接字
    sock.close()
```

在这个示例中，服务端会不断地等待客户端发送数据，当收到数据时，会处理数据并发送响应
